import{_ as E}from"./PrimaryButton-Dv3cuahV.js";import{_ as F,a as O}from"./IconDangerButton-Ck-pzSvo.js";import{_ as U}from"./ToggleInput-DtATc2LJ.js";import{_ as D}from"./TextInput-BUY0sAWZ.js";import{_ as i}from"./TagBox-D1H7U3OL.js";import{r as d,k as N,d as C,a,t as $,b as s,F as M,g as P,w as m,e as h,o as T,f as v}from"./app-CZNMuXyv.js";const A={class:"col-span-1 flex flex-col divide-y divide-gray-200 dark:divide-gray-700 rounded-lg bg-white dark:bg-gray-800 shadow"},L={class:"px-4 py-5 sm:p-6 flex-1"},Q={class:"truncate text-lg font-bold text-gray-900 dark:text-gray-100"},R={class:"mt-6 space-y-2"},G={class:"mt-4 text-sm text-gray-500 flex flex-wrap gap-1"},H=["onClick"],J={key:0,class:"mt-4 flex justify-center"},K={class:"px-4 py-5 sm:p-6 flex flex-row justify-between"},W={class:"flex flex-col justify-center space-y-3"},X={class:"flex flex-row items-center"},Y={class:"flex flex-row flex-1 items-end justify-end gap-3"},ne={__name:"NewPhotoItem",props:{propItem:Object,tags:Object},emits:["change","copy-item","remove-item"],setup(o,{emit:S}){const j=o,t=d(j.propItem),g=d(null),c=d(null),p=d(null),x=d(null),y=d(null),V=d(null),I=N(()=>{var n,e,l,r,f,k;return[(n=g.value)==null?void 0:n.id,(e=c.value)==null?void 0:e.id,(l=p.value)==null?void 0:l.id,(r=x.value)==null?void 0:r.id,(f=y.value)==null?void 0:f.id,(k=V.value)==null?void 0:k.id].filter(z=>z)}),_=N(()=>t.value.tag_ids.map(function(n){var e;for(const[l,r]of Object.entries(j.tags)){const f=(e=r.find(k=>k.id===n))==null?void 0:e.name;if(f)return{id:n,name:f}}})),u=()=>{t.value.tag_ids=[...new Set([...t.value.tag_ids,...I.value])],w("change",t.value),g.value=null,c.value=null,p.value=null,x.value=null,y.value=null,V.value=null},q=n=>{t.value.tag_ids=t.value.tag_ids.filter(e=>e!==n),w("change",t.value)},w=S,b=()=>{w("change",t.value)},B=()=>{w("copy-item",t.value)};return(n,e)=>(T(),C("li",A,[a("div",L,[a("h3",Q,$(t.value.quantity)+" "+$(t.value.name),1),a("div",R,[s(i,{class:"w-full",items:o.tags.material,modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=l=>g.value=l),nullable:!0,placeholder:"Material",onChange:u},null,8,["items","modelValue"]),s(i,{class:"w-full",items:o.tags.brand,modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=l=>c.value=l),nullable:!0,placeholder:"Brand",onChange:u},null,8,["items","modelValue"]),s(i,{class:"w-full",items:o.tags.content,modelValue:y.value,"onUpdate:modelValue":e[2]||(e[2]=l=>y.value=l),nullable:!0,placeholder:"Content",onChange:u},null,8,["items","modelValue"]),s(i,{class:"w-full",items:o.tags.size,modelValue:V.value,"onUpdate:modelValue":e[3]||(e[3]=l=>V.value=l),nullable:!0,placeholder:"Size",onChange:u},null,8,["items","modelValue"]),s(i,{class:"w-full",items:o.tags.state,modelValue:x.value,"onUpdate:modelValue":e[4]||(e[4]=l=>x.value=l),nullable:!0,placeholder:"State",onChange:u},null,8,["items","modelValue"]),s(i,{class:"w-full",items:o.tags.event,modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=l=>p.value=l),nullable:!0,placeholder:"Event",onChange:u},null,8,["items","modelValue"])]),a("div",G,[(T(!0),C(M,null,P(_.value,l=>(T(),C("span",{key:l.id,onClick:r=>q(l.id),class:"inline-flex cursor-pointer items-center gap-x-1.5 rounded-full px-2 py-1 text-xs font-medium text-gray-900 dark:text-gray-100 ring-1 ring-inset ring-gray-200"},[e[11]||(e[11]=a("svg",{class:"h-1.5 w-1.5 fill-green-500",viewBox:"0 0 6 6","aria-hidden":"true"},[a("circle",{cx:"3",cy:"3",r:"3"})],-1)),v(" "+$(l.name),1)],8,H))),128))]),I.value.length?(T(),C("div",J,[s(E,{class:"whitespace-nowrap",onClick:u},{default:m(()=>e[12]||(e[12]=[v(" Add Selected Tags ")])),_:1})])):h("",!0)]),a("div",K,[a("div",W,[a("div",X,[s(D,{id:"quantity",type:"number",modelValue:t.value.quantity,"onUpdate:modelValue":e[6]||(e[6]=l=>t.value.quantity=l),class:"w-12 mr-2",required:"",min:"1",max:"1000",onInput:b},null,8,["modelValue"]),e[13]||(e[13]=a("label",{for:"quantity",class:"block font-medium text-sm text-gray-900 dark:text-gray-100"}," Quantity ",-1))]),s(U,{modelValue:t.value.picked_up,"onUpdate:modelValue":[e[7]||(e[7]=l=>t.value.picked_up=l),b],class:"block w-full"},{label:m(()=>e[14]||(e[14]=[v("Picked Up")])),_:1},8,["modelValue"]),s(U,{modelValue:t.value.recycled,"onUpdate:modelValue":[e[8]||(e[8]=l=>t.value.recycled=l),b],class:"block w-full"},{label:m(()=>e[15]||(e[15]=[v("Recycled")])),_:1},8,["modelValue"]),s(U,{modelValue:t.value.deposit,"onUpdate:modelValue":[e[9]||(e[9]=l=>t.value.deposit=l),b],class:"block w-full"},{label:m(()=>e[16]||(e[16]=[v("Deposit")])),_:1},8,["modelValue"])]),a("div",Y,[s(F,{onClick:B},{default:m(()=>e[17]||(e[17]=[a("i",{class:"far fa-fw fa-copy text-xs"},null,-1)])),_:1}),s(O,{onClick:e[10]||(e[10]=l=>n.$emit("remove-item",t.value.key))},{default:m(()=>e[18]||(e[18]=[a("i",{class:"fas fa-fw fa-trash-alt text-xs"},null,-1)])),_:1})])])]))}};export{ne as default};
