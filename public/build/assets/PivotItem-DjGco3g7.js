import{_ as B}from"./PrimaryButton-Dv3cuahV.js";import{_ as S,a as N}from"./IconDangerButton-Ck-pzSvo.js";import{_ as k}from"./ToggleInput-DtATc2LJ.js";import{_ as z}from"./TextInput-BUY0sAWZ.js";import{_ as n}from"./TagBox-D1H7U3OL.js";import{r as s,k as E,d as r,a,t as b,b as i,F as D,g as F,e as C,w as m,o as v,f as g}from"./app-CZNMuXyv.js";const M={class:"col-span-1 flex flex-col divide-y divide-gray-200 dark:divide-gray-700 rounded-lg bg-white dark:bg-gray-800 shadow"},O={class:"px-4 py-5 sm:p-6 flex-1"},P={class:"truncate text-lg font-bold text-gray-900 dark:text-gray-100"},A={class:"mt-6"},L={class:"space-y-2"},Q={key:0,class:"mt-4 text-sm text-gray-500 flex flex-wrap gap-1"},R=["onClick"],G={key:1,class:"mt-4 flex justify-center"},H={class:"px-4 py-5 sm:p-6 flex flex-row justify-between"},J={class:"flex flex-col justify-center space-y-3"},K={class:"flex flex-row items-center"},W={class:"flex flex-row flex-1 items-end justify-end gap-3"},te={__name:"PivotItem",props:{pivotItem:Object,tags:Object},emits:["add-tags-to-item","remove-item","remove-tag-from-item","update-quantity","toggle-picked-up","toggle-recycled","toggle-deposit","copy-item"],setup(l,{emit:T}){const U=l,q=T,f=s(null),y=s(null),p=s(null),x=s(null),V=s(null),I=s(null),w=E(()=>{var o,e,u,t,c,$;return[(o=f.value)==null?void 0:o.id,(e=y.value)==null?void 0:e.id,(u=p.value)==null?void 0:u.id,(t=x.value)==null?void 0:t.id,(c=V.value)==null?void 0:c.id,($=I.value)==null?void 0:$.id].filter(j=>j)}),d=()=>{q("add-tags-to-item",U.pivotItem,w.value),f.value=null,y.value=null,p.value=null,x.value=null,V.value=null,I.value=null};return(o,e)=>{var u;return v(),r("li",M,[a("div",O,[a("h3",P,b(l.pivotItem.quantity)+" "+b(l.pivotItem.item.name),1),a("div",A,[a("div",L,[i(n,{items:l.tags.material,nullable:!0,placeholder:"Material",modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=t=>f.value=t),onChange:d},null,8,["items","modelValue"]),i(n,{items:l.tags.brand,nullable:!0,placeholder:"Brand",modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=t=>y.value=t),onChange:d},null,8,["items","modelValue"]),i(n,{items:l.tags.content,nullable:!0,placeholder:"Content",modelValue:V.value,"onUpdate:modelValue":e[2]||(e[2]=t=>V.value=t),onChange:d},null,8,["items","modelValue"]),i(n,{items:l.tags.size,nullable:!0,placeholder:"Size",modelValue:I.value,"onUpdate:modelValue":e[3]||(e[3]=t=>I.value=t),onChange:d},null,8,["items","modelValue"]),i(n,{items:l.tags.state,nullable:!0,placeholder:"State",modelValue:x.value,"onUpdate:modelValue":e[4]||(e[4]=t=>x.value=t),onChange:d},null,8,["items","modelValue"]),i(n,{items:l.tags.event,nullable:!0,placeholder:"Event",modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=t=>p.value=t),onChange:d},null,8,["items","modelValue"])]),(u=l.pivotItem.tags)!=null&&u.length?(v(),r("div",Q,[(v(!0),r(D,null,F(l.pivotItem.tags,t=>(v(),r("span",{key:t.id,onClick:c=>o.$emit("remove-tag-from-item",l.pivotItem,t.id),class:"inline-flex cursor-pointer items-center gap-x-1.5 rounded-full px-2 py-1 text-xs font-medium text-gray-900 dark:text-gray-100 ring-1 ring-inset ring-gray-200"},[e[15]||(e[15]=a("svg",{class:"h-1.5 w-1.5 fill-green-500",viewBox:"0 0 6 6","aria-hidden":"true"},[a("circle",{cx:"3",cy:"3",r:"3"})],-1)),g(" "+b(t.name),1)],8,R))),128))])):C("",!0),w.value.length?(v(),r("div",G,[i(B,{class:"whitespace-nowrap",onClick:d},{default:m(()=>e[16]||(e[16]=[g(" Add Selected Tags ")])),_:1})])):C("",!0)])]),a("div",H,[a("div",J,[a("div",K,[i(z,{id:"quantity",type:"number","model-value":l.pivotItem.quantity,class:"w-12 mr-2",required:"",min:"1",max:"1000",onInput:e[6]||(e[6]=t=>o.$emit("update-quantity",l.pivotItem.id,t.target.value))},null,8,["model-value"]),e[17]||(e[17]=a("label",{for:"quantity",class:"block font-medium text-sm text-gray-900 dark:text-gray-100"}," Quantity ",-1))]),i(k,{modelValue:l.pivotItem.picked_up,"onUpdate:modelValue":[e[7]||(e[7]=t=>l.pivotItem.picked_up=t),e[8]||(e[8]=t=>o.$emit("toggle-picked-up",l.pivotItem.id,l.pivotItem.picked_up))],class:"block w-full"},{label:m(()=>e[18]||(e[18]=[g("Picked Up")])),_:1},8,["modelValue"]),i(k,{modelValue:l.pivotItem.recycled,"onUpdate:modelValue":[e[9]||(e[9]=t=>l.pivotItem.recycled=t),e[10]||(e[10]=t=>o.$emit("toggle-recycled",l.pivotItem.id,l.pivotItem.recycled))],class:"block w-full"},{label:m(()=>e[19]||(e[19]=[g("Recycled")])),_:1},8,["modelValue"]),i(k,{modelValue:l.pivotItem.deposit,"onUpdate:modelValue":[e[11]||(e[11]=t=>l.pivotItem.deposit=t),e[12]||(e[12]=t=>o.$emit("toggle-deposit",l.pivotItem.id,l.pivotItem.deposit))],class:"block w-full"},{label:m(()=>e[20]||(e[20]=[g("Deposit")])),_:1},8,["modelValue"])]),a("div",W,[i(S,{onClick:e[13]||(e[13]=t=>o.$emit("copy-item",l.pivotItem.id))},{default:m(()=>e[21]||(e[21]=[a("i",{class:"far fa-fw fa-copy text-xs"},null,-1)])),_:1}),i(N,{onClick:e[14]||(e[14]=t=>o.$emit("remove-item",l.pivotItem.id))},{default:m(()=>e[22]||(e[22]=[a("i",{class:"fas fa-fw fa-trash-alt text-xs"},null,-1)])),_:1})])])])}}};export{te as default};
